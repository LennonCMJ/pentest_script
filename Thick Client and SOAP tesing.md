### Overview of the Process

The process for "reversing" the transport communications of these thick clients is as follows:

1.Obtain a thick client that uses HTTPS transport  
2.Obtain a copy of Burp  
3.Start Burp with admin privileges  
4.Add a Proxy Listener w/ Redirection and Invisible Proxying  
5.Connect to proxy listener as if it was a server  
6.Edit the host file and  C:\windows\system32\drivers\etc\hosts point to loopback address  
7.Use Burpe for forwarding    
  
https://www.trustwave.com/Resources/SpiderLabs-Blog/%E2%80%9CReversing%E2%80%9D-Non-Proxy-Aware-HTTPS-Thick-Clients-w/-Burp/  
  
  
### SOAP Request  
  
1. Obtain WSDL   
2. Obtain Burpe and SoapUI  
3. Place cert of Burpe into SoapUI folder  
  

### JNLP Testing

Java Proxy

It all started with a “.jnlp” file. According to Oracle, the Java Network Launch Protocol (JNLP) “enables an application to be launched on a client desktop by using resources that are hosted on a remote web server. Java Plug-in software and Java Web Start software are considered JNLP clients because they can launch remotely hosted applets and applications on a client desktop.”

Proxy:
Java Control Panel set Proxy  -> Burp ->  Server


### Source Code Review

JD-GUI for JAR file:
Any references to “Customer01” (the name of the client’s site)
Any references to protocols: “http://”, “https://”, “ftp://”, “sftp://”, “smb://”, etc.
Any references to keywords: “admin”, “adm” ,“user”, “password”, “pwd” ,“test”, “debug”, “host”, “ip”, “domain”,“key”

Local Internal Machine Directory:

Application Program Files
Registry Keys 

Any references to “Customer01” (the name of the client’s site)
Any references to protocols: “http://”, “https://”, “ftp://”, “sftp://”, “smb://”, etc.
Any references to keywords: “admin”, “adm” ,“user”, “password”, “pwd” ,“test”, “debug”, “host”, “ip”, “domain”,“key”

File and registry key user permissions

### Network Capture via Wireshark / TCPView

Network Packet Capture between Client and Server
The inspection of communication between the server and client can reveal sensitive and unencrypted information that may allow us to compromise the application.

Sensitive traffic (secrets/credentials) on the wire
HTTP and HTTPS web end points
File blobs/chunks being sent over the wire
Proprietory network protocols being used by the program

 TCPView which comes with Sysinternals suite can be used to view the connections between the remote host and the local machine.

### Process Monitor 

Applications might access files on the filesystem to read/write sensitive data from/to those files while the application is running. For this reason, it is important to understand which files are being accessed by the application. We can use Process Monitor from Sysinternals suite to accomplish it.



## Resource:
http://www.ws-attacks.org/Welcome_to_WS-Attacks

http://docs.telerik.com/fiddler/Configure-Fiddler/Tasks/UseFiddlerAsReverseProxy

https://parsiya.net/blog/2016-04-07-thick-client-proxying---part-4-burp-in-proxy-chains/

https://resources.infosecinstitute.com/practical-thick-client-application-penetration-testing-using-damn-vulnerable-thick-client-app-part-1/#gref

https://blog.appsecco.com/breaking-bad-tearing-apart-a-thick-client-app-to-steal-data-7e44f8698b2a
