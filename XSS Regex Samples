if you look closely you will notice that they do nothing with ' ( normaly encoded but when it is sended tought the DOM i doesn't encode ' ).
a simple patch would be:
``
function nope(a) {
    url = a.split('<') [0];
    url = a.split('%3C') [0];
    return a.replace('"', '').replace(/[<>]/gi, '').replace('%3C', '').replace('%3E', '').replace("'", '')
  }
``
``
  function nope(a) {
    url = a.split('<') [0];
    url = a.split('%3C') [0];
    return a.replace('"', '').replace(/[<>]/gi, '').replace('%3C', '').replace('%3E', '').replace("'", '')
  }
  
  ``
  
  
  https://regexr.com/
